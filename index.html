<!-- === APPEND: Force MP4 hero video + poster === -->
<script>
(function () {
  // CHANGE THESE PATHS IF YOUR FILE/FOLDER NAMES ARE DIFFERENT
  var MP4_PATH   = "videos/videoplayback-transcode.mp4?v=2"; // MP4 only
  var POSTER_IMG = "images/hero-static.jpg";                 // optional still

  var video = document.querySelector(".hero-video video");
  if (!video) return;

  // Ensure required attributes for autoplay on mobile
  video.setAttribute("autoplay", "");
  video.setAttribute("muted", "");
  video.setAttribute("playsinline", "");
  video.setAttribute("loop", "");

  // Set poster (won’t break if file doesn’t exist)
  video.setAttribute("poster", POSTER_IMG);

  // Nuke any existing <source> children (e.g., webm) and inject MP4 only
  while (video.firstChild) video.removeChild(video.firstChild);
  var mp4 = document.createElement("source");
  mp4.src = MP4_PATH;
  mp4.type = "video/mp4";
  video.appendChild(mp4);

  // Try to load & play; fail silently if user gesture is required
  try {
    video.load();
    var playPromise = video.play();
    if (playPromise && typeof playPromise.then === "function") {
      playPromise.catch(function(){ /* ignore autoplay block */ });
    }
  } catch (e) { /* ignore */ }

  // Optional: quick console diagnostics
  video.addEventListener("loadeddata", function(){ console.log("Hero video loaded"); });
  video.addEventListener("error", function(){ console.warn("Hero video error", video.error); });
})();
</script>
